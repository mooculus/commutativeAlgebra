\documentclass{ximera}

\input{../preamble.tex}

\author{Bart Snapp}

\title{Integral extensions}

\begin{document}
\begin{abstract}
  We introduce integral extensions. Sources and references:
  \cite{AM1969,iK1974}.
\end{abstract}
\maketitle


We've already used the most basic facts about integral extensions when
we proved Noether normalization for rings containing an infinite
field. Let's restate the important parts.
\begin{definition}
  Let $R\subset S$ be rings, with $R$ a subring of $S$. An element
  $x\in S$ is called \dfn{integral} over $R$, if $x$ satisfies a monic
  polynomial in $R[X]$, meaning
  \[
  x^n + a_{n-1} x^{n-1} + \dots + a_1 x + a_0  = 0
  \]
  where $a_i\in R$.
\end{definition}


\begin{exercise}
  Is $\Z[i]$ an integral extension of $\Z$? What about $\Z[i/2]$?
\end{exercise}


\begin{exercise}
  Let $f(x)\in\Z[x]$ be a monic polynomial. Prove that if $x\in\Q$,
  then $x\in\Z$.
\end{exercise}




The exercise above gives some rational to our definition
above. Compare the next proposition to Proposition~\ref{P:finiteext}.

\begin{proposition}
  Let $R\subset S$ be rings, with $R$ a subring of $S$. The following are equivalent:
  \begin{enumerate}
  \item $x$ is integral over $R$.
  \item $R[x]$ is a finitely generated $R$-module.
  \item We have the containment of rings $R\subset R[x] \subset
    A\subset S$ where $A$ is a finitely generated $R$-module.
  \item There exists an $R[x]$-module $M$ such that $\ann_{R[x]}(M) =
    0$ and $M$ is finitely generated as an $R$-module.
  \end{enumerate}
  \begin{proof}
    $\text{(a)}\Rightarrow \text{(b)}$ Let $a_i\in R$. Now, 
    \[
    x^n + a_{n-1} x^{n-1} + \dots + a_1 x + a_0  = 0
    \]
    so we have that
    \[
    x^n = - a_{n-1} x^{n-1} - \dots - a_1 x - a_0,
    \] 
    thus $R[x]$ is finitely generated as an $R$-module.

    
    $\text{(b)}\Rightarrow \text{(c)}$ Set $A=R[x]$.


    $\text{(c)}\Rightarrow \text{(d)}$ Set $M=A$, so $M$ is finitely
    generated and $\ann_{R[x]}(A)=0$.


    $\text{(d)}\Rightarrow \text{(a)}$ Suppose $M$ is finitely
    generated as an $R$-module. Consider $\phi:M \to M$, where
    \[
    \phi(m) = x\cdot m.
    \]
    Now apply the determinant trick (Proposition~\ref{P:determinanttrick}), where $I= R$. So
    we have $\phi(M) = xM \subset M$, and since $\ann_{R[x]}(M) = 0$,
    \[
    x^n+ a_{n-1}x^{n-1} + \dots + a_1 x  + a_0 = 0.
    \]
    Hence, $x$ is integral over $R$.
  \end{proof}
\end{proposition}


\begin{corollary}
  Let $R$ be a ring, and let $x_1,\dots,x_n$ all be integral over
  $R$. Then $R[x_1,\dots,x_n]$ is a finitely generated $R$-module.
\end{corollary}

\begin{definition}
  Let $R\subset S$ be a rings. The \dfn{integral closure} of $R$ in
  $S$ is the set of elements of $S$ that are integral over $R$. 
\end{definition}

\begin{corollary}
  Let $R\subset S$ be rings. The integral closure of $R$ in $S$ is a
  subring of $S$ containing $R$.
\end{corollary}

\begin{corollary}
  Let $R\subset S \subset T$ be rings. If $S$ is integral over $R$,
  and $T$ is integral over $S$, then $T$ is integral over $R$.
\end{corollary}


\begin{corollary}
  Let $R\subset S$ be rings and let $A$ be the integral closure of $R$
  in $S$, then $A$ is integrally closed in $S$.
\end{corollary}




\begin{proposition}[Integrality and quotients]
  Let $R\subset S$, with $S$ integral over $R$. Consider ideals
  $J\subset S$ and $I= R\cap J$. Then $S/J$ is integral over $R/I$.
  \begin{proof}
    Given any equation for integrality, we may simply reduce it modulo
    $J$.
  \end{proof}
\end{proposition}

\begin{proposition}[Integrality and localization]\label{P:localint}
  Let $R\subset S$, with $S$ integral over $R$. If $U\subset R$ is a
  multiplicatively closed set, then $U^{-1} S$ is integral over
  $U^{-1} R$.
  \begin{proof}
    Given any equation for integrality for say $s\in S$, we may divide
    equation by an element of $u\in U$. This will give an equation for
    integrality of $s/u$.
  \end{proof}
\end{proposition}



\section{Properties related to integral extensions}


Integral extensions will allow us to state when have certain relations
between $\spec(R)$ and $\spec(S)$. Suppose $R\subset S$ are rings,
here are some relations we might want.

\begin{description}
\item[Lying-over]\index{lying-over} If $\p\in\spec(R)$, then there exists a
  $P\in\spec(S)$ such that $P\cap R = \p$.
  \[
  \begin{tikzcd}[row sep=0em,column sep=0em]
    R    & \subset & S \\
    \cup &         & \cup \\
    \p   & \subset & \exists P
  \end{tikzcd}
  \]
\item[Going-up]\index{going-up} If $\p_1,\p_2\in\spec(R)$ with $\p_1\subset\p_2$ and
  $P_1\in\spec(S)$ with $P_1\cap R= \p$, then there exists $P_2$ with
  $P_1\subset P_2$ and $P_2\cap R = \p_2$.
  \[
  \begin{tikzcd}[row sep=0em,column sep=0em]
    R    & \subset & S \\
    \cup &         & \cup \\
    \p_2 & \subset & \exists P_2 \\
    \cup &         & \cup \\
    \p_1 & \subset & P_1  
  \end{tikzcd}
  \]
\item[Going-down]\index{going-down} If $\p_1,\p_2\in\spec(R)$ with $\p_1\subset\p_2$ and
  $P_2\cap R = \p_2$, then there exists $P_1$ with $P_1\subset P_2$
  and $P_1\cap R = \p_1$.
  \[
  \begin{tikzcd}[row sep=0em,column sep=0em]
    R    & \subset & S \\
    \cup &         & \cup \\
    \p_2 & \subset & P_2 \\
    \cup &         & \cup \\
    \p_1 & \subset & \exists P_1  
  \end{tikzcd}
  \]
\item[Incomparable]\index{incomparable} If $P_1,P_2\in\spec(S)$ are
  distinct with $\p\in\spec(R)$ such that
  \[
  P_1\cap R= \p= P_2\cap R,
  \]
  then $P_1$ is incomparable to $P_2$ in $\spec(S)$, meaning
  \[
  P_1\not\subset P_2\quad\text{and}\quad P_2\not\subset P_1.
  \]
\end{description}

Perhaps the most confusing property above (at least for this author!)
is the ``incomparable'' property. Let's check out a proposition to see
if it helps. We'll need a definition.

\begin{definition}
  If $R$ is a Noetherian ring and $\p$ is a prime ideal of $R$, then the \textbf{height} of $\p$ is 
  \[
  \h(\p) = \sup\left\{n : \begin{minipage}{15em}there exists a chain of prime ideals $\p_0\subsetneq \p_1 \subsetneq \cdots \subsetneq \p_{n-1}\subsetneq \p_n =\p$\end{minipage} \right\}.
  \]
\end{definition}


\begin{proposition}
  Let $R\subset S$ be incomparable. If $\p\in\spec{R}$ and $P\in\spec(S)$, then $\h(P)\le \h(\p)$.
  \begin{proof}
    Consider the following chain:
    \[
    P_0 \subsetneq P_1 \subsetneq \dots \subsetneq P_n = P
    \]
    Since $S$ is incomparable to $R$, each $P_i$ contracts to a distinct prime in $R$. 
  \end{proof}
\end{proposition}


\end{document}
